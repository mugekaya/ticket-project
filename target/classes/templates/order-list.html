<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Rota Ekranı</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css"
          integrity="sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP" crossorigin="anonymous">

</head>
<style>
    a {
        color: black;
    }

    a:hover {
        background-color: rgba(197, 190, 190, 0.74);
        color: white !important;;
    }
</style>
<body>
<nav class="navbar navbar-inverse" style="background-color: rgba(228, 228, 228, 0.74);">
    <div class="container-fluid">
        <a class="navbar-brand" th:href="@{/admin/}">Anasayfa</a>
        <a class="navbar-brand" th:href="@{/admin/}">Rotalar</a>
        <a class="navbar-brand" th:href="@{/admin/user/all}">Kullanıcılar</a>
        <a class="navbar-brand" th:href="@{/admin/vehicle/all}">Araçlar</a>
        <a class="navbar-brand" th:href="@{/order/all}">Biletler</a>
        <a class="navbar-brand" th:href="@{/order/sell}">Bilet Al</a>

    </div>
</nav>

<div class="container">

    <div class="h3">Biletler</div>
    <div class="h3"><a class="btn btn-primary" th:href="@{/order/cancel/all}">Iptal Edilen Biletlerler</a></div>
    <br/>
    <table class="table">
        <tr>
            <td>Kullanıcı Adı</td>
            <td>Rota</td>
            <td>Saat</td>
            <td>Ücret</td>
            <td>İşlemler</td>
        </tr>
        <tr th:each="order : ${orders}">
            <td th:text="${order.user.username}"/>
            <td th:text="${order.routeName}"/>
            <td th:text="${order.orderDate}"/>
            <td th:text="${order.price}"/>
            <td>
                <div th:if="${order.orderStatus == 'Satıldı'}">
                    <a class="btn btn-primary col-12"
                       th:href="@{'/order/cancel/' + ${order.id}}">Iptal Et</a>
                </div>
                <div th:if="${order.orderStatus == 'IPTAL'}">
                    <a class="btn btn-primary col-12"
                       th:href="@{'/order/update/' + ${order.id}}">Satışa Al</a>
                </div>
            </td>

        </tr>

    </table>

</div>
</body>
</html>